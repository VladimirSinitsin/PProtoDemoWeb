<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example</title>
</head>
<body>
    <script type="application/javascript">
        const ws = new WebSocket("ws://localhost:9000");

        ws.onopen = () => {
            console.log('send message');
            const message = {
                id: "79a07890-f3a0-44f3-a6fd-b7bbea25482e",
                command: "b8338344-bec9-4f7d-b8e2-b81a6d4591c7",
                content: null,
                webFlags: {
                    type: "command",
                    execStatus: "unknown",
                    priority: "normal",
                    contentFormat: "json",
                },
                tags: [],
            };
            ws.send(JSON.stringify(message));
        };

        ws.onclose = () => {
            console.log('closed');
        };

        ws.onmessage = (message) => {
            console.log('receive message', JSON.parse(message.data));
        };

        setTimeout(() => {
            ws.close();
        }, 5000);
    </script>
</body>
</html>
